<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>向npm发布自己的package | Run Faster To Get A Bite</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="最近做了一个用webpack打包多语言包来生成静态网站的工具。然后把工具发布到npm上了。关于包包发布npm的步骤简要做一个记录。
npm adduser先注册一个npm账户，可以去npm上注册，也可以直接在机器终端：1$ npm adduser
这个命令会引导你逐步注册一个新的账号，顺次填写username、email和password等信息。
npm publish注册成功后，会在当前环境里以">
<meta property="og:type" content="article">
<meta property="og:title" content="向npm发布自己的package">
<meta property="og:url" content="http://shaojing.wang/2016/11/08/npm-publish-your-package/index.html">
<meta property="og:site_name" content="Run Faster To Get A Bite">
<meta property="og:description" content="最近做了一个用webpack打包多语言包来生成静态网站的工具。然后把工具发布到npm上了。关于包包发布npm的步骤简要做一个记录。
npm adduser先注册一个npm账户，可以去npm上注册，也可以直接在机器终端：1$ npm adduser
这个命令会引导你逐步注册一个新的账号，顺次填写username、email和password等信息。
npm publish注册成功后，会在当前环境里以">
<meta property="og:updated_time" content="2016-11-08T06:47:43.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="向npm发布自己的package">
<meta name="twitter:description" content="最近做了一个用webpack打包多语言包来生成静态网站的工具。然后把工具发布到npm上了。关于包包发布npm的步骤简要做一个记录。
npm adduser先注册一个npm账户，可以去npm上注册，也可以直接在机器终端：1$ npm adduser
这个命令会引导你逐步注册一个新的账号，顺次填写username、email和password等信息。
npm publish注册成功后，会在当前环境里以">
  
    <link rel="alternate" href="/atom.xml" title="Run Faster To Get A Bite" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Run Faster To Get A Bite</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">but world moves much faster than you, like always</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://shaojing.wang"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-npm-publish-your-package" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/08/npm-publish-your-package/" class="article-date">
  <time datetime="2016-11-08T02:42:44.000Z" itemprop="datePublished">2016-11-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/TechDiary/">TechDiary</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      向npm发布自己的package
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近做了一个用webpack打包多语言包来生成静态网站的工具。然后把工具发布到npm上了。<br>关于包包发布npm的步骤简要做一个记录。</p>
<h3 id="npm-adduser"><a href="#npm-adduser" class="headerlink" title="npm adduser"></a>npm adduser</h3><p>先注册一个npm账户，可以去npm上注册，也可以直接在机器终端：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm adduser</div></pre></td></tr></table></figure></p>
<p>这个命令会引导你逐步注册一个新的账号，顺次填写username、email和password等信息。</p>
<h3 id="npm-publish"><a href="#npm-publish" class="headerlink" title="npm publish"></a>npm publish</h3><p>注册成功后，会在当前环境里以新注册的账户身份登录。不需多余操作，直接在项目的根目录执行：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm publish</div></pre></td></tr></table></figure></p>
<p>即可完成当前项目的包发布。</p>
<h3 id="npm-version-patch-minor-major"><a href="#npm-version-patch-minor-major" class="headerlink" title="npm version patch (minor, major)"></a>npm version patch (minor, major)</h3><p>发布成功后，登录npm的站点可以找到新发的包。<br>更新包时，执行version命令，后带一个参数：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ npm version minor  <span class="comment"># package.json文件里的version会自动更新一个小版本1.1.0</span></div><div class="line">$ npm version major  <span class="comment"># package.json文件里的version会自动更新一个大版本2.0.0</span></div></pre></td></tr></table></figure></p>
<p>version命令之后，还要再执行一次publish才可以！</p>
<p>具体参考：<br>Patch releases: 1.0 or 1.0.x or ~1.0.4<br>Minor releases: 1 or 1.x or ^1.0.4<br>Major releases: * or x</p>
<h3 id="Why-my-package-cannot-be-installed"><a href="#Why-my-package-cannot-be-installed" class="headerlink" title="Why my package cannot be installed ?"></a>Why my package cannot be installed ?</h3><p>Publish成功之后，在npm上可以看到自己的包，但是测试从npm上install包到本地，却失败。<br>寻了原因，发现是package.json文件里少写里一个属性“bin”！</p>
<p>翻开npm的官方文档，其中关于package.json文件的书写要求里，就有着bin的相关内容：</p>
<p>A lot of packages have one or more executable files that they’d like to install into the PATH. npm makes this pretty easy (in fact, it uses this feature to install the “npm” executable.)</p>
<p>To use this, supply a bin field in your package.json which is a map of command name to local file name. On install, npm will symlink that file into prefix/bin for global installs, or ./node_modules/.bin/ for local installs.</p>
<p>For example, myapp could have this:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123; <span class="string">"bin"</span> : &#123; <span class="string">"myapp"</span> : <span class="string">"./cli.js"</span> &#125; &#125;</div></pre></td></tr></table></figure></p>
<p>Thus, when you install myapp, it’ll create a symlink from the cli.js script to:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/usr/<span class="built_in">local</span>/bin/myapp</div></pre></td></tr></table></figure></p>
<h3 id="顺便让Linux的man命令也找到你的包"><a href="#顺便让Linux的man命令也找到你的包" class="headerlink" title="顺便让Linux的man命令也找到你的包"></a>顺便让Linux的man命令也找到你的包</h3><p>还是在package.json文件里，添加一个man属性：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">"man"</span>: <span class="string">"./man/your-app"</span></div></pre></td></tr></table></figure></p>
<h3 id="每次更新别忘记version命令和重新publish"><a href="#每次更新别忘记version命令和重新publish" class="headerlink" title="每次更新别忘记version命令和重新publish"></a>每次更新别忘记version命令和重新publish</h3><p>更新后，如果是小改动，就执行一次：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm version minor  <span class="comment"># package.json里的version自动从2.1.0进化到2.2.0</span></div></pre></td></tr></table></figure></p>
<p>然后再次publish：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm publish</div></pre></td></tr></table></figure></p>
<p>更多规范看 <a href="https://docs.npmjs.com/files/package.json" target="_blank" rel="external">npm关于package.json的官方文档</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://shaojing.wang/2016/11/08/npm-publish-your-package/" data-id="ciwyl2vkv0014rtpmuah9x50q" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/">git</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/npm/">npm</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/11/08/webpack-bundle-to-generate-html/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          使用Webpack自动化生成多语言页面
        
      </div>
    </a>
  
  
    <a href="/2016/11/07/git-commonly-used-commands/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Git的常用命令（更新中）</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/OtherDiary/">OtherDiary</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Rudiments/">Rudiments</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/TechDiary/">TechDiary</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6/">ES6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RegExp/">RegExp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/array/">array</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/babel/">babel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/culture/">culture</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/es6/">es6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/i18n/">i18n</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/koa/">koa</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mac/">mac</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mobile/">mobile</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/">node</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm/">npm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/proxy/">proxy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redux/">redux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rudiments/">rudiments</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/touch/">touch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/">webpack</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/ES6/" style="font-size: 13.33px;">ES6</a> <a href="/tags/React/" style="font-size: 10px;">React</a> <a href="/tags/RegExp/" style="font-size: 10px;">RegExp</a> <a href="/tags/array/" style="font-size: 16.67px;">array</a> <a href="/tags/babel/" style="font-size: 10px;">babel</a> <a href="/tags/culture/" style="font-size: 10px;">culture</a> <a href="/tags/es6/" style="font-size: 16.67px;">es6</a> <a href="/tags/git/" style="font-size: 16.67px;">git</a> <a href="/tags/http/" style="font-size: 13.33px;">http</a> <a href="/tags/i18n/" style="font-size: 10px;">i18n</a> <a href="/tags/koa/" style="font-size: 16.67px;">koa</a> <a href="/tags/linux/" style="font-size: 20px;">linux</a> <a href="/tags/mac/" style="font-size: 10px;">mac</a> <a href="/tags/mobile/" style="font-size: 10px;">mobile</a> <a href="/tags/nginx/" style="font-size: 13.33px;">nginx</a> <a href="/tags/node/" style="font-size: 13.33px;">node</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a> <a href="/tags/proxy/" style="font-size: 10px;">proxy</a> <a href="/tags/react/" style="font-size: 13.33px;">react</a> <a href="/tags/redux/" style="font-size: 10px;">redux</a> <a href="/tags/rudiments/" style="font-size: 16.67px;">rudiments</a> <a href="/tags/touch/" style="font-size: 10px;">touch</a> <a href="/tags/vim/" style="font-size: 10px;">vim</a> <a href="/tags/webpack/" style="font-size: 13.33px;">webpack</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/12/21/spread-syntax-examples/">那三个点点是什么鬼</a>
          </li>
        
          <li>
            <a href="/2016/12/08/linux-user-space-and-kernel-space/">Linux的User Space和Kernel Space</a>
          </li>
        
          <li>
            <a href="/2016/12/06/xml-http-request/">XMLHttpRequest 要点简述</a>
          </li>
        
          <li>
            <a href="/2016/12/02/fundamental-bin-search/">二分查找算法</a>
          </li>
        
          <li>
            <a href="/2016/11/24/fundamental-array-sort/">有关排序算法</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Alex Wang<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>